---
layout: mypost
title:  "D3D11 笔记"
date:   2023-6-17 11:13:17 +0800
categories: graphics 
location: HangZhou,China 
description:  
---
---

### Vertex

三角形的端点。

D3D11 中的顶点可以看成是三角形的端点坐标(x, y, z)以及这些点的属性。

在D3D11中三角形是顺时针处理的。

### Primitives

基元，3D环境中的一个元素, 可以是三角形、线、点或者任何其他图形。

### D3D DEVICE

代表一个VideoAdapter(device要从指定的adapter上创建)。

### D3D11DeviceContext

代表GPU的渲染管线.

### 资源和资源视图

资源是场景的构建基块：几何图形、纹理、着色器数据。

资源可以以常规用途内存格式存储，以便可以由多个管道阶段共享。 管道阶段使用视图解释资源数据。 资源视图在概念上类似于强制转换资源数据，以便它可以在特定上下文中使用。

因此, 资源不能被直接绑定到一个管线阶段, 必须为资源创建资源视图(将资源类型化)，然后绑定到管线上。

举个例子：
```C++
    ID3D11Resource* backBufferResource;
    hr = swap_chain_->GetBuffer(0, __uuidof(ID3D11Resource), (void**)&backBufferResource);
    if (FAILED(hr)) {
        LOG_ERROR("IDXGISwapChain::GetBuffer failed, err: %x", hr);
        return false;
    }
    hr = d3d11_dev_->CreateRenderTargetView(backBufferResource, nullptr, &render_view_);
```
目的是将"数据"换到backbuffer上, 但是backbuffer是一个资源, 所以需要创建backbuffer的视图。通过"D3D11_RENDER_TARGET_VIEW_DESC"来描述, 这里传了nullptr(accesses all of the subresources in [Mipmap](https://zh.wikipedia.org/wiki/Mipmap) level 0)[Mipmap的通俗解释](https://www.zhihu.com/question/398101779)。