---
layout: mypost
title: "webrtc接收端jitter公式推导"
date: 2021-05-14 14:13:17 +0800
categories: webrtc
location: HangZhou,China 
---
---


### 卡尔曼增益简单介绍及推导

> 有一把尺子测量一枚硬币的直径, 记录每次测量出的结果(测量值):$x_1$, $x_2$, $x_3$, ....

那么, 对硬币直径的估计值:

<center> 
    $\overline{x}_n$ = $\frac {(x_1+x_2+x_3+...+x_n)} {n}$
</center>

进一步, 写成递归形式:
<center> 
    $\overline{x}_n$ =  $\overline{x}_{n-1}$ + $\frac{1}{n} (x_n - \overline{x}_{n-1})$ 
</center>
可见, 随着 ${n\to+\infty}$, 测量结果已经不再重要.

文字表示为:

$$ 当前的估计值 = 上一次的估计值 + 系数 * (当前的测试量 - 上一次的估计值) $$

假设要考虑上一次的估计误差和本次的测量误差, 一个很直观的想法就是:

* 如果估计误差大于测量误差, 也就是说测量的更佳准确, 那么当前的估计值应该偏向于本次的测量值
* 如果估计误差小于测量误差, 也就是说测量的不准确, 那么当前的估计值应该偏向于上一次的估计值

这就是数据融合的思想, 此时, 这个**系数**就是卡尔曼增益系数:

$$ G = \frac {估计误差}{估计误差+测量误差} $$
